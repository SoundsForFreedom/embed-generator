<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcard Scroll Test v3</title>
</head>

<body style="background:#f5f5f5;padding:20px">

    <style>
        /* Main container */
        .lw-fc-container {
            overflow: hidden;
            max-width: 1200px;
            margin: 30px auto;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        /* Scroll container - key fix: use overflow-x scroll */
        .lw-fc-scroll {
            display: flex;
            flex-wrap: nowrap;
            /* CRITICAL: prevent wrapping */
            overflow-x: scroll;
            overflow-y: hidden;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .lw-fc-scroll::-webkit-scrollbar {
            display: none
        }

        /* Each page - use width instead of flex */
        .lw-fc-page {
            flex-shrink: 0;
            /* CRITICAL: don't shrink */
            width: 100%;
            /* Full width of scroll container */
            scroll-snap-align: start;
            box-sizing: border-box;
            padding: 0 10px;
        }
    </style>

    <div id="lw-fc-test" class="lw-fc-container">

        <!-- Navigation -->
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:20px">
            <button class="lw-fc-prev"
                style="padding:10px 20px;border-radius:12px;border:none;background:#f3f4f6;font-weight:bold;cursor:pointer">â†
                Vorige</button>
            <div style="display:flex;align-items:center;gap:12px">
                <span class="lw-fc-indicator"
                    style="background:#FF6B9D;color:#fff;padding:8px 20px;border-radius:20px;font-weight:bold;font-size:14px">ğŸ“„
                    Pagina 1 van 2</span>
                <div style="display:flex;gap:8px">
                    <span class="lw-fc-dot"
                        style="width:12px;height:12px;border-radius:50%;background:#FF6B9D;opacity:1;cursor:pointer;transition:all 0.2s"></span>
                    <span class="lw-fc-dot"
                        style="width:12px;height:12px;border-radius:50%;background:#FF6B9D;opacity:0.4;cursor:pointer;transition:all 0.2s"></span>
                </div>
            </div>
            <button class="lw-fc-next"
                style="padding:10px 20px;border-radius:12px;border:none;background:#f3f4f6;font-weight:bold;cursor:pointer">Volgende
                â†’</button>
        </div>

        <!-- Scrollable Pages Container -->
        <div class="lw-fc-scroll">

            <!-- Page 1 -->
            <div class="lw-fc-page">
                <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px">
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸµ</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸ¹</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸ¸</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸ¥</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸº</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸ»</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸª•</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸ·</div>
                </div>
                <div style="text-align:center;margin-top:20px;font-size:24px;color:#FF6B9D;font-weight:bold">PAGE 1 -
                    MUSIC ğŸµ</div>
            </div>

            <!-- Page 2 -->
            <div class="lw-fc-page">
                <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px">
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸ¦</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸ˜</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸ¦’</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸª</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸ¦“</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸ¦</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸŠ</div>
                    <div
                        style="border:4px solid #FF6B9D;border-radius:16px;background:#fff;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:48px">
                        ğŸ¦</div>
                </div>
                <div style="text-align:center;margin-top:20px;font-size:24px;color:#FF6B9D;font-weight:bold">PAGE 2 -
                    ANIMALS ğŸ¦</div>
            </div>

        </div>

        <p style="text-align:center;font-size:12px;color:#888;margin-top:15px">ğŸ’¡ Use mouse wheel or buttons to navigate
        </p>

        <!-- Debug Info -->
        <div id="debug"
            style="margin-top:20px;padding:15px;background:#1a1a1a;color:#0f0;border-radius:8px;font-family:monospace;font-size:13px;max-height:150px;overflow-y:auto">
            Loading...
        </div>
    </div>

    <script>
        (function () {
            var container = document.getElementById('lw-fc-test');
            var scrollContainer = container.querySelector('.lw-fc-scroll');
            var debugEl = document.getElementById('debug');
            var pages = container.querySelectorAll('.lw-fc-page');
            var totalPages = pages.length;
            var currentPage = 0;
            var isScrolling = false;

            function log(msg) {
                var time = new Date().toLocaleTimeString();
                debugEl.innerHTML = '[' + time + '] ' + msg + '<br>' + debugEl.innerHTML;
            }

            function updateIndicators() {
                var dots = container.querySelectorAll('.lw-fc-dot');
                var indicator = container.querySelector('.lw-fc-indicator');
                var prevBtn = container.querySelector('.lw-fc-prev');
                var nextBtn = container.querySelector('.lw-fc-next');

                dots.forEach(function (d, i) {
                    d.style.opacity = i === currentPage ? '1' : '0.4';
                    d.style.transform = i === currentPage ? 'scale(1.3)' : 'scale(1)';
                });
                indicator.textContent = 'ğŸ“„ Pagina ' + (currentPage + 1) + ' van ' + totalPages;
                prevBtn.style.opacity = currentPage === 0 ? '0.4' : '1';
                prevBtn.style.pointerEvents = currentPage === 0 ? 'none' : 'auto';
                nextBtn.style.opacity = currentPage === totalPages - 1 ? '0.4' : '1';
                nextBtn.style.pointerEvents = currentPage === totalPages - 1 ? 'none' : 'auto';
            }

            function scrollToPage(page) {
                if (page < 0 || page >= totalPages || isScrolling) return;

                isScrolling = true;
                currentPage = page;
                var pageWidth = scrollContainer.offsetWidth;
                var targetScroll = pageWidth * page;

                log('â†’ Scrolling to page ' + (page + 1) + ' | target: ' + targetScroll + 'px');

                scrollContainer.scrollTo({
                    left: targetScroll,
                    behavior: 'smooth'
                });

                updateIndicators();

                setTimeout(function () {
                    isScrolling = false;
                    log('âœ“ Done. scrollLeft=' + Math.round(scrollContainer.scrollLeft));
                }, 500);
            }

            // Mouse wheel handler
            scrollContainer.addEventListener('wheel', function (e) {
                e.preventDefault();
                e.stopPropagation();

                if (isScrolling) return;

                if (e.deltaY > 10) {
                    log('â¬‡ Wheel down â†’ next page');
                    scrollToPage(currentPage + 1);
                } else if (e.deltaY < -10) {
                    log('â¬† Wheel up â†’ prev page');
                    scrollToPage(currentPage - 1);
                }
            }, { passive: false });

            // Button clicks
            container.querySelector('.lw-fc-prev').addEventListener('click', function () {
                log('â—€ Prev clicked');
                scrollToPage(currentPage - 1);
            });

            container.querySelector('.lw-fc-next').addEventListener('click', function () {
                log('â–¶ Next clicked');
                scrollToPage(currentPage + 1);
            });

            // Dot clicks
            container.querySelectorAll('.lw-fc-dot').forEach(function (dot, i) {
                dot.addEventListener('click', function () {
                    log('â— Dot ' + (i + 1) + ' clicked');
                    scrollToPage(i);
                });
            });

            // Initial diagnostics
            setTimeout(function () {
                var containerW = scrollContainer.offsetWidth;
                var scrollW = scrollContainer.scrollWidth;
                var page1W = pages[0] ? pages[0].offsetWidth : 0;

                log('=== DIAGNOSTICS ===');
                log('Container width: ' + containerW + 'px');
                log('Scroll width: ' + scrollW + 'px');
                log('Page 1 width: ' + page1W + 'px');
                log('Scrollable: ' + (scrollW > containerW ? 'YES âœ“' : 'NO âœ— (FIX NEEDED)'));
                log('Pages found: ' + totalPages);

                if (scrollW <= containerW) {
                    log('âš  ERROR: scrollWidth must be > containerWidth');
                }
            }, 100);

            updateIndicators();
        })();
    </script>

</body>

</html>